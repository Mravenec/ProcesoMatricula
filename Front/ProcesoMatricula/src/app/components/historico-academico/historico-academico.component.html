<h2>{{ subtitulo }}</h2>

<table>
  <thead>
    <tr>
      <th>ID</th>
      <th>Estudiante ID</th>
      <th>Curso ID</th>
      <th>Nota</th>
      <th>Periodo</th>
      <th>Acciones</th>
    </tr>
  </thead>
  <tbody>
    @for (historico of HistoricosAcademicos(); track historico.id) {
      <tr>
        <td>
          <input type="number" [(ngModel)]="historico.id" placeholder="ID" readonly />
        </td>
        <td>
          <input type="number" [(ngModel)]="historico.estudianteId" placeholder="Est. ID"
                 (keydown.enter)="modificarNota(historico)"/>
        </td>
        <td>
          <input type="number" [(ngModel)]="historico.cursoId" placeholder="Curso ID"
                 (keydown.enter)="modificarNota(historico)"/>
        </td>
        <td>
          <input type="number" [(ngModel)]="historico.nota_obtenida" placeholder="Nota"
                 step="0.1" (keydown.enter)="modificarNota(historico)"/>
        </td>
        <td>
          <input type="text" [(ngModel)]="historico.periodo" placeholder="Periodo"
                 (keydown.enter)="modificarNota(historico)"/>
        </td>
        <td>
          <button (click)="modificarNota(historico)">Guardar</button>
          <button (click)="borrarHistorico(historico.id)">Borrar</button>
        </td>
      </tr>
    } @empty {
      <tr>
        <td colspan="6">No hay registros acad√©micos</td>
      </tr>
    }
    
    <!-- Formulario para nuevo registro -->
    <tr>
      <td></td>
      <td>
        <input [(ngModel)]="nuevoEstudianteId" placeholder="Est. ID" type="number">
      </td>
      <td>
        <input [(ngModel)]="nuevoCursoId" placeholder="Curso ID" type="number">
      </td>
      <td>
        <input [(ngModel)]="nuevaNota" placeholder="Nota" type="number" step="0.1">
      </td>
      <td>
        <input [(ngModel)]="nuevoPeriodo" placeholder="Periodo" type="text">
      </td>
      <td>
        <button (click)="agregarHistorico()">Agregar</button>
      </td>
    </tr>
  </tbody>
</table>

<pre>
  <code>
    {{ HistoricosAcademicos() | json }}
  </code>
</pre>